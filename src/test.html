<!doctype html>
<meta charset="utf-8">
<title>Solo RPG Tools Test</title>

<main id="main" role="main">

<h1>Test</h1>

<div id="diceResultContainer">Result: <span id="diceResult"></span></div>

<div id="extraContainer"></div>

<h2>P</h2>
<ol id="plotlines"></ol>

<h2>C</h2>
<ol id="characters"></ol>

<p>what</p>

</main>

<script defer>
$dR = document.getElementById("diceResult")
$eC = document.getElementById("extraContainer")

/*
import('./utils.js')
  .then((module) => {
    const Utils = module.default
    let utils = new Utils()
    let result = utils.rollDice(2,10,false)
    
    $dR.textContent = `${result.diceRolls[0]} ${result.diceRolls[1]}`  
  })
  .catch(err => {
    $dR.textContent = err  
  });
*/

import('./mythic-gme.js')
  .then((module) => {
    const MythicGME = module.default
    let mgme = new MythicGME()
    mgme.chaos = 9
    let result = mgme.yes_no_question(5,5)
    
    $dR.textContent = `${result.answer} (${result.dice.total})`
    
    if (result.event) {
      $dR.textContent += ` Event: ${result.event.focus} - ${result.event.action} ${result.event.subject}`
    }
    
    let detailCheck = mgme.detail()
    
    $eC.textContent += `Detail: ${detailCheck.detail} (${detailCheck.dice.total})`
    
    let action = mgme.action()
    $eC.textContent += ` | Action: ${action}`
    
    let description = mgme.description()
    $eC.textContent += ` | Description: ${description}`
    
  })
  .catch(err => {
    $dR.textContent = err  
  });

</script>
