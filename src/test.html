<!doctype html>
<meta charset="utf-8">
<title>Solo RPG Tools Test</title>

<main id="main" role="main">

<h1>Test</h1>

<h2>Theme: <span id="acTheme"></span></h2>

<div id="diceResultContainer">Result: <span id="diceResult"></span></div>

<div id="sceneContainer"></div>

<div id="detailContainer"></div>

<div id="statContainer"></div>

<h2>P</h2>
<ol id="plotlines"></ol>

<h2>C</h2>
<ol id="characters"></ol>

<p>what</p>

</main>

<script defer>
$acT = document.getElementById("acTheme")

$dR = document.getElementById("diceResult")
$sC = document.getElementById("sceneContainer")
$dC = document.getElementById("detailContainer")
$stC = document.getElementById("statContainer")

/*
import('./utils.js')
  .then((module) => {
    const Utils = module.default
    let utils = new Utils()
    let result = utils.rollDice(2,10,false)
    
    $dR.textContent = `${result.diceRolls[0]} ${result.diceRolls[1]}`  
  })
  .catch(err => {
    $dR.textContent = err  
  });
*/

import('./adventure-crafter.js')
  .then((module) => {
    const AdventureCrafter = module.default
    let ac = new AdventureCrafter()
        
    let theme = ac.theme()
    
    $acT.textContent = `${theme.result} (${theme.dice.total})`
    
  })
  .catch(err => {
    $dR.textContent = err  
  });  

import('./mythic-gme.js')
  .then((module) => {
    const MythicGME = module.default
    let mgme = new MythicGME()
    mgme.chaos = 5
    let result = mgme.yesNoQuestion(5,5)
    
    $dR.textContent = `${result.answer} (${result.dice.total})`
    
    if (result.event) {
      $dR.textContent += ` Event: ${result.event.focus} (${result.event.dice.total}) - ${result.event.action} ${result.event.subject}`
    }

    let sceneCheck = mgme.sceneSetup()            
    $sC.textContent += `Scene: ${sceneCheck.status} (${sceneCheck.dice.total})`
    if (sceneCheck.event) {
      $sC.textContent += ` | Event: ${sceneCheck.event.focus} (${sceneCheck.event.dice.total}) - ${sceneCheck.event.action} ${sceneCheck.event.subject}`
    }
        
    let detailCheck = mgme.detail()            
    $dC.textContent += `Detail: ${detailCheck.detail} (${detailCheck.dice.total})`
    let action = mgme.action()
    $dC.textContent += ` | Action: ${action}`
    let description = mgme.description()
    $dC.textContent += ` | Description: ${description}`
    
    let statCheck = mgme.statCheck(4,true,true,1,0)
    $stC.textContent += `Stat: ${statCheck.result} (${statCheck.value})`
    
  })
  .catch(err => {
    $dR.textContent = err  
  });

</script>
